(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1175:function(e,t,a){"use strict";a.d(t,"m",function(){return l}),a.d(t,"g",function(){return i}),a.d(t,"f",function(){return s}),a.d(t,"i",function(){return o}),a.d(t,"e",function(){return r}),a.d(t,"d",function(){return c}),a.d(t,"c",function(){return u}),a.d(t,"b",function(){return d}),a.d(t,"j",function(){return m}),a.d(t,"k",function(){return p}),a.d(t,"h",function(){return f}),a.d(t,"a",function(){return b}),a.d(t,"l",function(){return g});var n=a(3),l=n.b.div({cursor:"pointer",position:"relative",width:"100%",height:"100%",display:"block",padding:"16px 15px",textAlign:"center"},function(e){return{borderBottom:"2px solid",borderColor:e.active?e.theme.buttons.activeTabBorderColor:e.theme.general.primaryColor,backgroundColor:e.theme.general.primaryColor,color:e.theme.buttons.secondaryColor}}),i=n.b.ul({position:"relative",width:"100%",height:"100%",display:"block",padding:"15px",margin:0,listStyle:"none","& li":{padding:"8px",cursor:"move",fontSize:"14px",border:"1px dashed #fff",margin:"0 0 5px",transition:"background-color 0.25s ease-in-out","& svg":{fontSize:"18px",margin:"-4px 5px 0 0"}}},function(e){return{backgroundColor:e.theme.general.primaryColor,color:e.theme.general.secondaryTextColor,"& li:hover":{background:e.theme.general.accentColor}}}),s=n.b.div({position:"relative",display:"block",padding:"8px 16px",color:"#fff",borderBottom:"1px solid #fff"}),o=n.b.div({position:"relative",width:"100%",height:"calc(100vh - 105px)",display:"block"}),r=n.b.div({maxHeight:"calc(100vh - 160px)",overflow:"auto",position:"relative",margin:"0",width:"100%",display:"block"}),c=n.b.div({width:"100%",padding:"15px",margin:0,display:"block","& svg":{margin:"-3px 0 0"},"& button":{float:"right",marginTop:"-8px"}},function(e){return{backgroundColor:e.theme.sidebar.headerColor,color:e.theme.general.secondaryTextColor}}),u=n.b.div({position:"relative",width:"100%",padding:"30px 15px 15px",background:"#fff"}),d=n.b.div({maxHeight:"calc(100vh - 160px)",overflow:"auto"}),m=n.b.div({cursor:"move",position:"relative",width:"100%",padding:"25px 15px 15px",border:"1px dashed #fff",background:"#fff",marginBottom:"5px"},function(e){return{boxShadow:e.active?"0px 1px 3px #aaa":0}}),p=n.b.div({overflow:"auto",overflowX:"hidden",padding:"30px",borderLeft:"1px solid #ddd"},function(e){return{maxHeight:"calc(100vh - "+(e.hasHeader?162:105)+"px)",height:"calc(100vh - "+(e.hasHeader?162:105)+"px)"}}),f=n.b.div({position:"absolute",top:"5px",right:"15px",fontSize:"12px"},function(e){return{"& span":{color:e.theme.typeface.secondaryTextColor,textDecoration:"underline",cursor:"pointer",position:"relative",marginRight:"5px",zIndex:3,"&:hover":{color:e.theme.general.primaryTextColor}},color:e.theme.status.warningColor,"& svg":{verticalAlign:"bottom",fontSize:"16px",fill:e.valid?e.theme.status.successColor:e.theme.status.warningColor}}}),b=(n.b.span({cursor:"move"}),n.b.div({minHeight:"275px",width:"325px",textAlign:"center"})),g=n.b.div({margin:"25px 0"})},1176:function(e,t,a){"use strict";function n(){return[{key:"email",title:"Email",description:"Is field a valid email?",fields:[{key:"message",title:"Message",type:"text",defaultValue:"^Field is not a valid email",setValueOnMount:!0}]},{key:"equality",title:"Equality",description:"Is field equal to another field?",fields:[{key:"attribute",title:"Attribute",type:"text",defaultValue:"",constraints:{presence:{allowEmpty:!1,message:"^The attribute to validate against is required"}},setValueOnMount:!0},{key:"message",title:"Message",type:"text",defaultValue:'^Field is not equal to "%{attribute}" field',setValueOnMount:!0}]},{key:"format",title:"Pattern (Regex)",description:"Does field match the given pattern?",fields:[{key:"pattern",title:"Pattern",type:"text",defaultValue:"",setValueOnMount:!0},{key:"flags",title:"Flags",type:"text",defaultValue:"",setValueOnMount:!0},{key:"message",title:"Message",type:"text",defaultValue:"is invalid",setValueOnMount:!0}]},{key:"length",title:"Length",description:"Checks the length of a string",fields:[{key:"is",title:"Is",type:"number",defaultValue:"",setValueOnMount:!0},{key:"wrongLength",title:"Wrong Length Message",type:"text",defaultValue:"is the wrong length (should be %{count} characters)",setValueOnMount:!0},{key:"minimum",title:"Minimum",type:"number",defaultValue:"",setValueOnMount:!0},{key:"tooShort",title:"Too Short Message",type:"text",defaultValue:"is too short (minimum is %{count} characters)",setValueOnMount:!0},{key:"maximum",title:"Maximum",type:"number",defaultValue:"",setValueOnMount:!0},{key:"tooLong",title:"Too Long Message",type:"text",defaultValue:"is too long (maximum is %{count} characters)",setValueOnMount:!0}]},{key:"numericality",title:"Numerical",description:"Number checking",fields:[{key:"onlyInteger",title:"Only Integer",type:"boolean",defaultValue:!1,setValueOnMount:!0},{key:"strict",title:"Strict",type:"boolean",defaultValue:!1,setValueOnMount:!0},{key:"greaterThan",title:"Greater Than",type:"number",setValueOnMount:!0},{key:"greaterThanOrEqualTo",title:"Greater Than Or Equal To",type:"number",setValueOnMount:!0},{key:"equalTo",title:"Equal To",type:"number",setValueOnMount:!0},{key:"lessThanOrEqualTo",title:"Less Than Or Equal To",type:"number",setValueOnMount:!0},{key:"lessThan",title:"Less Than",type:"number",setValueOnMount:!0},{key:"divisibleBy",title:"Divisible By",type:"number",setValueOnMount:!0},{key:"odd",title:"Is Odd",type:"boolean",defaultValue:!1,setValueOnMount:!0},{key:"even",title:"Is Even",type:"boolean",defaultValue:!1,setValueOnMount:!0},{key:"notValid",title:"Not Valid Message",type:"text",defaultValue:"is not a valid number",setValueOnMount:!0},{key:"notInteger",title:"Not Integer Message",type:"text",defaultValue:"must be an integer",setValueOnMount:!0},{key:"notGreaterThan",title:"Not Greater Than Message",type:"text",defaultValue:"must be greater than %{count}",setValueOnMount:!0},{key:"notGreaterThanOrEqualTo",title:"Not Greater Than Or Equal To Message",type:"text",defaultValue:"must be greater than or equal to %{count}",setValueOnMount:!0},{key:"notEqualTo",title:"Not Equal To Message",type:"text",defaultValue:"must be equal to %{count}",setValueOnMount:!0},{key:"notLessThan",title:"Not Less Than Message",type:"text",defaultValue:"must be less than %{count}",setValueOnMount:!0},{key:"notLessThanOrEqualTo",title:"Not Less Than Or Equal To Message",type:"text",defaultValue:"must be less than or equal to %{count}",setValueOnMount:!0},{key:"notDivisibleBy",title:"Not Divisible By Message",type:"text",defaultValue:"must be divisible by %{count}",setValueOnMount:!0},{key:"notOdd",title:"Not Odd Message",type:"text",defaultValue:"must be odd",setValueOnMount:!0},{key:"notEven",title:"Not Even Message",type:"text",defaultValue:"must be even",setValueOnMount:!0}]},{key:"presence",title:"Required",description:"Is field required?",fields:[{key:"message",title:"Message",type:"text",defaultValue:"^Field is required",setValueOnMount:!0},{key:"allowEmpty",title:"Allow Empty",type:"boolean",defaultValue:!0,setValueOnMount:!0}]},{key:"url",title:"URL",description:"Is a valid URL?",fields:[{key:"message",title:"Message",type:"text",defaultValue:"^Field is not a valid url",setValueOnMount:!0},{key:"schemes",title:"Schemes",type:"text",defaultValue:["http","https"],setValueOnMount:!0},{key:"allowLocal",title:"Allow Local",type:"boolean",defaultValue:!1,setValueOnMount:!0}]}]}a.d(t,"a",function(){return n})},1177:function(e,t,a){e.exports={paddedHolder:"components-modules-SchemaBuilder-styles__paddedHolder--23H-nv3_ components-modules-ContentEditor-styles__paddedHolder--NICH3jFs",checkboxHolder:"components-modules-SchemaBuilder-styles__checkboxHolder--3v680Tux"}},1635:function(e,t,a){"use strict";a.d(t,"a",function(){return ce}),a.d(t,"c",function(){return ue}),a.d(t,"d",function(){return de}),a.d(t,"e",function(){return me}),a.d(t,"b",function(){return pe});var n,l,i=a(34),s=a.n(i),o=a(16),r=a.n(o),c=a(109),u=a.n(c),d=a(0),m=a.n(d),p=a(2),f=a(1636),b=a.n(f),g=a(1637),y=a.n(g),h=a(1638),v=a.n(h),k=a(1639),x=a.n(k),O=a(1640),E=a.n(O),j=a(1641),w=a.n(j),C=a(1642),F=a.n(C),S=a(362),D=a.n(S),V=a(1643),T=a.n(V),M=a(1644),_=a.n(M),I=a(1645),N=a.n(I),z=a(1646),P=a.n(z),q=a(1647),R=a.n(q),A=a(1648),G=a.n(A),L=a(1649),H=a.n(L),B=a(1650),U=a.n(B),K=a(1651),W=a.n(K),Y=a(1652),J=a.n(Y),Q=a(1653),X=a.n(Q),Z=a(1654),$=a.n(Z),ee=a(1655),te=a.n(ee),ae=a(1656),ne=a.n(ae),le=a(363),ie=a.n(le),se=a(1176),oe=a(841),re=[{type:"text",title:"Field Name",key:"title",defaultValue:"Field",size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"^Title is required",allowEmpty:!1}}},{type:"linked-text",title:"Field Key",key:"key",linkedField:"title",transformFunction:"camelCase",manualOverwrite:!0,defaultValue:function(){return"field_"+Date.now()},size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"^Field key is required",allowEmpty:!1},format:{pattern:"[a-z0-9_-]+",flags:"i",message:"Can only be a valid slug"}}},{type:"text",title:"Description",key:"description",defaultValue:"",size:{xs:12,sm:12,md:6,lg:6}},{type:"text",title:"Default Value",key:"defaultValue",defaultValue:"",size:{xs:12,sm:12,md:6,lg:6}},{type:"select",title:"Layout (Large)",key:"gridColumns.lg",defaultValue:12,size:{xs:12,sm:12,md:6,lg:6},options:[{value:12,label:"1/1"},{value:3,label:"1/4"},{value:4,label:"1/3"},{value:6,label:"1/2"},{value:9,label:"3/4"},{value:8,label:"2/3"}]},{type:"select",title:"Layout (Medium)",key:"gridColumns.md",defaultValue:12,size:{xs:12,sm:12,md:6,lg:6},options:[{value:12,label:"1/1"},{value:3,label:"1/4"},{value:4,label:"1/3"},{value:6,label:"1/2"},{value:9,label:"3/4"},{value:8,label:"2/3"}]},{type:"select",title:"Layout (Small)",key:"gridColumns.sm",defaultValue:12,size:{xs:12,sm:12,md:6,lg:6},options:[{value:12,label:"1/1"},{value:3,label:"1/4"},{value:4,label:"1/3"},{value:6,label:"1/2"},{value:9,label:"3/4"},{value:8,label:"2/3"}]},{type:"select",title:"Layout (Extra Small)",key:"gridColumns.xs",defaultValue:12,size:{xs:12,sm:12,md:6,lg:6},options:[{value:12,label:"1/1"},{value:3,label:"1/4"},{value:4,label:"1/3"},{value:6,label:"1/2"},{value:9,label:"3/4"},{value:8,label:"2/3"}]},{type:"switch",title:"Show in overview table",key:"show",defaultValue:!1,size:{xs:12,sm:12,md:4,lg:4}},{type:"repeater",title:"Validation Rules",key:"constraints",layout:"list",defaultValue:[],options:[{key:"rule",title:"Rule",type:"select",constraints:{presence:{message:"^Validation rule is required",allowEmpty:!1}},options:Object(se.a)().map(function(e){return{value:e.key,label:e.title}})},{key:"ruleValue",title:"Rule Options",type:"fieldset",defaultValue:{},options:[]}]}],ce=[[{type:"boolean",name:"True / False",icon:function(){return m.a.createElement(v.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="boolean",[].concat(u()(e))}},{type:"checkbox",name:"Checkbox",icon:function(){return m.a.createElement(v.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="checkbox",[].concat(u()(e))}},{type:"switch",name:"Switch",icon:function(){return m.a.createElement(_.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="switch",[].concat(u()(e))}},{type:"date",name:"Date",icon:function(){return m.a.createElement(w.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="date",e[8].size={xs:12,sm:12,md:6,lg:6},e.splice(9,0,{type:"text",title:"Display Format",key:"displayFormat",defaultValue:oe.a,size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"^Field is required",allowEmpty:!1}}}),[].concat(u()(e))}},{type:"time",name:"Time",icon:function(){return m.a.createElement(b.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="time",[].concat(u()(e))}},{type:"datetime-local",name:"Date-Time Local",icon:function(){return m.a.createElement(w.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="datetime-local",[].concat(u()(e))}},{type:"email",name:"Email",icon:function(){return m.a.createElement(T.a,null)},fields:function(){return[].concat(re)}},{type:"color",name:"Color Picker",icon:function(){return m.a.createElement(E.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="color",[].concat(u()(e))}},{type:"media",name:"Media",icon:function(){return m.a.createElement(W.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3]={type:"number",title:"Selection Limit",key:"limit",defaultValue:1,size:{xs:12,sm:12,md:6,lg:6}},e.splice(4,0,{type:"select",title:"Media Types",key:"mediaTypes",multiple:!0,defaultValue:null,options:[{value:"files",label:"Files"},{value:"images",label:"Images"}],constraints:{presence:{message:"^Need to select at least one media type",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12}}),[].concat(u()(e))}},{type:"location",name:"Location",icon:function(){return m.a.createElement(G.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="location",e[3].config={GOOGLE_MAPS_API_KEY:"AIzaSyCoq4_-BeKtYRIs-3FjJL721G1eP5DaU0g"},e[3].size={xs:12,sm:12,md:6,lg:6},e.splice(4,0,{type:"text",title:"Google Maps API Key",key:"config.GOOGLE_MAPS_API_KEY",size:{xs:12,sm:12,md:12,lg:12},constraints:{presence:{message:"Field is required",allowEmpty:!1}}}),[].concat(u()(e))}},{type:"password",name:"Password",icon:function(){return m.a.createElement(H.a,null)},fields:function(){return[].concat(re)}},{type:"linked-text",name:"Linked Text",icon:function(){return m.a.createElement(R.a,null)},fields:function(e){var t=e.state,a=["color","date","datetime-local","email","number","password","range","text","textarea","time"],n=Object(p.cloneDeep)(re);return n.splice(4,0,{type:"switch",key:"manualOverwrite",title:"Allow manual overwrite",defaultValue:!1}),n.splice(4,0,{type:"select",title:"Transform Function",key:"transformFunction",description:"The linked field's value will be passed to this method",options:[{value:"camelCase",label:"camelCase"},{value:"capitalize",label:"Capitalize"},{value:"deburr",label:"Deburr"},{value:"escape",label:"Escape"},{value:"kebabCase",label:"kebab-case"},{value:"lowerCase",label:"lowercase"},{value:"lowerFirst",label:"lOWER FIRST"},{value:"snakeCase",label:"snake_case"},{value:"startCase",label:"Start Case"},{value:"toLower",label:"to lower"},{value:"toUpper",label:"TO UPPER"},{value:"trim",label:"Trim"},{value:"trimEnd",label:"Trim End"},{value:"trimStart",label:"Trim Start"},{value:"unescape",label:"Unescape"},{value:"upperCase",label:"UPPERCASE"},{value:"upperFirst",label:"Upper first"}],size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"Field is required",allowEmpty:!1}}}),n.splice(4,0,{type:"select",title:"Linked Field",key:"linkedField",options:Object(p.map)(Object(p.filter)(Object(p.get)(t,"formData.fields",[]),function(e){var t=e.type;return a.includes(t)}),function(e){return{value:e.key,label:e.title}}),size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"Field is required",allowEmpty:!1}}}),[].concat(u()(n))}},{type:"tag",name:"Tag",icon:function(){return m.a.createElement(P.a,null)},fields:function(){return[].concat(re)}}],[{type:"text",name:"Text",icon:function(){return m.a.createElement(te.a,null)},fields:function(){return[].concat(re)}},{type:"textarea",name:"Textarea",icon:function(){return m.a.createElement(te.a,null)},fields:function(){return[].concat(re)}},{type:"number",name:"Number",icon:function(){return m.a.createElement(U.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="number",e[3].step="any",e.splice(4,0,{type:"select",title:"Data Type",key:"step",defaultValue:null,options:[{value:"1",label:"Integer"},{value:"0.1",label:"Decimal (0.0)"},{value:"0.01",label:"Decimal (0.00)"},{value:"0.001",label:"Decimal (0.000)"},{value:"0.0001",label:"Decimal (0.0000)"},{value:"0.00001",label:"Decimal (0.00000)"}],size:{xs:12,sm:12,md:12,lg:12}}),[].concat(u()(e))}},{type:"radio",name:"Radio",icon:function(){return m.a.createElement(J.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e.splice(4,0,{type:"repeater",title:"Options",key:"options",layout:"table",options:[{key:"value",title:"Value",type:"text"},{key:"label",title:"Label",type:"text"}],size:{xs:12,sm:12,md:12,lg:12}}),[].concat(u()(e))}},{type:"select",name:"Select",icon:function(){return m.a.createElement(y.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return r()(e[3],{type:"switch",key:"multiple",title:"Allow multiple value selection"}),e.splice(4,0,{type:"repeater",title:"Options",key:"options",layout:"table",options:[{key:"value",title:"Value",type:"text"},{key:"label",title:"Label",type:"text"}],size:{xs:12,sm:12,md:12,lg:12},constraints:{presence:{message:"^At least one option is required",allowEmpty:!1}}}),[].concat(u()(e))}},{type:"range",name:"Range",icon:function(){return m.a.createElement(ie.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[3].type="number",e.splice(4,0,{type:"number",title:"Min",key:"min",defaultValue:0,size:{xs:12,sm:6,md:6,lg:6},constraints:{presence:{message:"^Min value is required"}}}),e.splice(5,0,{type:"number",title:"Max",key:"max",defaultValue:999,size:{xs:12,sm:6,md:6,lg:6}}),e.splice(6,0,{type:"number",title:"Step Size",key:"step",defaultValue:1,size:{xs:12,sm:6,md:6,lg:6}}),e.splice(7,0,{type:"text",title:"Unit of measure",key:"unit",defaultValue:"",size:{xs:12,sm:6,md:6,lg:6}}),[].concat(u()(e))}},{type:"select-relational",name:"Select (Relational)",icon:function(){return m.a.createElement(y.a,null)},fields:function(e){var t=e.props,a=e.editing,n=void 0===a?{}:a,l=Object(p.cloneDeep)(re),i=["boolean","checkbox","color","date","datetime-local","email","linked-text","number","password","radio","range","select","text","textarea","time"];return r()(l[3],{type:"switch",key:"multiple",title:"Allow multiple value selection"}),l.splice(4,0,{type:"select",title:"Relational Data",key:"relation",options:Object(p.map)(Object(p.filter)(Object(p.get)(t,"firebase.environments."+t.environment+".schemas",{}),function(e){return e.enabled}),function(e){return{value:e.id,label:e.title}}),size:{xs:12,sm:12,md:12},constraints:{presence:{message:"^Relation is required",allowEmpty:!1}}}),l.splice(5,0,{type:"select",title:"Separator",key:"fieldSeparator",multiple:!1,defaultValue:oe.b,options:oe.c.map(function(e){return{value:e,label:e}}),constraints:{presence:{message:"^Need to select a separator",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12}}),l.splice(5,0,{type:"select",title:"Fields to show",key:"relationalFieldsToShow",multiple:!0,defaultValue:[],options:Object(p.without)(Object(p.map)(Object(p.get)(t,"firebase.environments."+t.environment+".schemas."+n.relation+".fields",[]),function(e){var t=e.key,a=e.title,n=e.type;return!!i.includes(n)&&{value:t,label:a}}),!1),constraints:{presence:{message:"^Need to select at least one field",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12}}),[].concat(u()(l))}},{type:"tree-relational",name:"Tree (Relational)",icon:function(){return m.a.createElement(x.a,null)},fields:function(e){var t=e.props,a=e.editing,n=void 0===a?{}:a,l=Object(p.cloneDeep)(re),i=["boolean","checkbox","color","date","datetime-local","email","linked-text","number","password","radio","range","select","text","textarea","time"];return l.splice(3,1,{type:"select",title:"Relational Data",key:"relation",options:Object(p.map)(Object(p.filter)(Object(p.get)(t,"firebase.environments."+t.environment+".schemas",{}),function(e){return e.enabled}),function(e){return{value:e.id,label:e.title}}),size:{xs:12,sm:12,md:12},constraints:{presence:{message:"^Relation is required",allowEmpty:!1}}}),l.splice(4,0,{type:"select",title:"Separator",key:"fieldSeparator",multiple:!1,defaultValue:oe.b,options:oe.c.map(function(e){return{value:e,label:e}}),constraints:{presence:{message:"^Need to select a separator",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12}}),l.splice(4,0,{type:"select",title:"Fields to show",key:"relationalFieldsToShow",multiple:!0,defaultValue:[],options:Object(p.without)(Object(p.map)(Object(p.get)(t,"firebase.environments."+t.environment+".schemas."+n.relation+".fields",[]),function(e){var t=e.key,a=e.title,n=e.type;return!!i.includes(n)&&{value:t,label:a}}),!1),constraints:{presence:{message:"^Need to select at least one field",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12}}),[].concat(u()(l))}},{type:"repeater",name:"Repeater",icon:function(){return m.a.createElement(X.a,null)},fields:function(e){var t=e.state,a=Object(p.cloneDeep)(re),n=Object(p.cloneDeep)(a[8]);return n.size={xs:12,sm:12,md:6,lg:6},a.splice(3,1),a[2].size={xs:12,sm:12,md:12,lg:12},a.splice(7,2,{type:"select",title:"Field Layout",key:"layout",defaultValue:"table",size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"^Field layout is required"}},options:[{value:"table",label:"Table"},{value:"list",label:"List"}]}),a.push(n),Object(p.get)(t,"editing.show")&&a.push({type:"select",title:"Overview Fields",key:"overviewFields",defaultValue:[],multiple:!0,size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"^Field to show is required"}},options:Object(p.get)(t,"editing.options",[]).map(function(e){return{value:e.key,label:e.title}})},{type:"select",title:"Overview Fields Separator",key:"overviewFieldsSeparator",multiple:!1,defaultValue:oe.b,options:oe.c.map(function(e){return{value:e,label:e}}),constraints:{presence:{message:"^Need to select a separator",allowEmpty:!1}},size:{xs:12,sm:12,md:6,lg:6}}),[].concat(u()(a))}},{type:"fieldset",name:"Field Group",icon:function(){return m.a.createElement(F.a,null)},fields:function(e){var t=e.state,a=Object(p.cloneDeep)(re);return a[2].size=12,a.splice(3,1),a.splice(8,1),a[7].size={xs:12,sm:12,md:6,lg:6},Object(p.get)(t,"editing.show")&&a.push({type:"select",title:"Overview Fields",key:"overviewFields",multiple:!0,defaultValue:[],size:{xs:12,sm:12,md:6,lg:6},constraints:{presence:{message:"^Field to show is required"}},options:Object(p.get)(t,"editing.options",[]).map(function(e){return{value:e.key,label:e.title}})},{type:"select",title:"Overview Fields Separator",key:"overviewFieldsSeparator",multiple:!1,defaultValue:oe.b,options:oe.c.map(function(e){return{value:e,label:e}}),constraints:{presence:{message:"^Need to select a separator",allowEmpty:!1}},size:{xs:12,sm:12,md:6,lg:6}}),[].concat(u()(a))}},{type:"wysiwyg",name:"WYSIWYG",icon:function(){return m.a.createElement(ne.a,null)},fields:function(){return[].concat(re)}},{type:"wysiwyg-cke",name:"WYSIWYG (CKEditor)",icon:function(){return m.a.createElement(ne.a,null)},fields:function(){return[].concat(re)}},{type:"markdown-editor",name:"Markdown Editor",icon:function(){return m.a.createElement(ne.a,null)},fields:function(){return[].concat(re)}}]],ue=[[{type:"seo",groupType:"fieldset",name:"SEO",icon:function(){return m.a.createElement($.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[0].defaultValue="Seo",e[1].defaultValue="seo",[].concat(u()(e))},formFields:[{type:"text",title:"Meta Title",key:"metaTitle",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Author",key:"metaAuthor",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Canonical URL",key:"canonicalUrl",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"textarea",title:"Meta Description",key:"metaDescription",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Open Graph Title",key:"ogTitle",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Open Graph URL",key:"ogUrl",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Open Graph Image",key:"ogImage",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Open Graph Type",key:"ogType",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Facebook Admin",key:"fbAdmin",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"textarea",title:"Open Graph Description",key:"ogDescription",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Twitter Title",key:"twitterTitle",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Twitter Url",key:"twitterUrl",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Twitter Card",key:"twitterCard",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Twitter Image",key:"twitterImage",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Twitter Description",key:"twitterDescription",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}}]},{type:"imageDeck",groupType:"repeater",name:"Image Deck",icon:function(){return m.a.createElement(N.a,null)},fields:function(){var e=Object(p.cloneDeep)(re);return e[0].defaultValue="Image Deck",e[1].defaultValue="imageDeck",[].concat(u()(e))},formFields:[{type:"media",title:"Image",key:"image",mediaTypes:["images"],defaultValue:"",limit:1,gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Title",key:"title",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Description",key:"description",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}}]}],[{type:"blog",groupType:!1,name:"Blog",icon:function(){return m.a.createElement(D.a,null)},fields:function(){return[].concat(re)},formFields:[{type:"text",title:"Title",key:"title",show:!0,defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"textarea",title:"Summary",key:"summary",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Author",key:"author",show:!0,defaultValue:"",gridColumns:{xs:12,sm:12,md:6,lg:6}},{type:"date",title:"Date",key:"date",show:!0,defaultValue:"",gridColumns:{xs:12,sm:12,md:6,lg:6}},{type:"wysiwyg-cke",title:"Content",key:"content",defaultValue:"",gridColumns:{xs:12,sm:12,md:12,lg:12}},{type:"select",title:"Status",key:"status",show:!0,defaultValue:"draft",gridColumns:{xs:12,sm:12,md:4,lg:4},options:[{value:"draft",label:"Draft"},{value:"published",label:"Published"}]}]}]],de=function(e){var t=[{type:"text",title:"Title",key:"title",defaultValue:"",constraints:{presence:{message:"^Title is required",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12}},{type:"linked-text",title:"Schema ID",key:"id",linkedField:"title",transformFunction:"camelCase",manualOverwrite:!0,overwriteOnceSet:function(e){return"new"===e},defaultValue:"",constraints:{presence:{message:"^Schema ID is required",allowEmpty:!1},format:{pattern:"[a-z0-9_-]+",flags:"i",message:"^Can only be a valid slug"}},size:{xs:12,sm:12,md:12,lg:12}},{type:"text",title:"Description",key:"description",defaultValue:"",size:{xs:12,sm:12,md:12,lg:12}},{type:"select",title:"Type",key:"type",defaultValue:"collection",constraints:{presence:{message:"^Schema type is required",allowEmpty:!1}},size:{xs:12,sm:12,md:12,lg:12},options:[{value:"single",label:"Single"},{value:"collection",label:"Collection"},{value:"form",label:"Form"}]},{type:"boolean",title:"Enabled",key:"enabled",defaultValue:!0,size:{xs:12,sm:12,md:6,lg:4}}];return"single"===Object(p.get)(e,"formData.type")&&t.splice(4,0,{type:"text",title:"Group",key:"group",description:'Groups are used to group "Single" types together',defaultValue:"",size:{xs:12,sm:12,md:12,lg:12}}),"collection"===Object(p.get)(e,"formData.type")&&t.splice(t.length-1,0,{type:"boolean",title:"Sortable",key:"sortable",defaultValue:!0,size:{xs:12,sm:12,md:6,lg:4}}),t},me=Object(p.reduce)(de,function(e,t){return Object(p.assign)({},e,s()({},t.key,t.constraints||{}))},{}),pe=(n=Object(p.flatten)(ce),l=Object(p.flatten)(n.map(function(e){return e.fields({props:{}})})),Object(p.reduce)(l,function(e,t){return t.constraints?Object(p.assign)({},e,s()({},t.key,t.constraints)):e},{}))},1658:function(e,t,a){"use strict";var n=a(95),l=a.n(n),i=a(34),s=a.n(i),o=a(16),r=a.n(o),c=a(31),u=a.n(c),d=a(29),m=a.n(d),p=a(25),f=a.n(p),b=a(30),g=a.n(b),y=a(0),h=a.n(y),v=a(1),k=a.n(v),x=a(2),O=a(789),E=a(167),j=a(56),w=function(e){function t(){var e,a,n,i;m()(this,t);for(var o=arguments.length,c=Array(o),d=0;d<o;d++)c[d]=arguments[d];return a=n=f()(this,(e=t.__proto__||u()(t)).call.apply(e,[this].concat(c))),n.onCheckboxClick=function(e,t){e.target.checked?n.selectedIds.push(t):Object(x.pull)(n.selectedIds,t)},n.confirmDelete=function(e){var t=h.a.createElement(E.a,{title:"Delete Schema",body:"Are you sure you want to delete this schema?",type:"error",buttons:[{themeType:"ghost",text:"Cancel",onClick:function(){return n.props.toggleModal({modalId:"contentModal",show:!1})}},{themeType:"warning",text:"Delete Schema Only",onClick:function(){n.props.removeItem("environments/"+n.props.environment+"/schemas/"+e),n.props.toggleModal({modalId:"contentModal",show:!1})}},{themeType:"error",text:"Delete Schema & Entries",onClick:function(){n.props.removeMulti("/",["environments/"+n.props.environment+"/schemas/"+e,"environments/"+n.props.environment+"/content/"+e]),n.props.toggleModal({modalId:"contentModal",show:!1})}}]});n.props.toggleModal({modalId:"contentModal",show:!0,content:t,size:"small"})},n.enableOrDisableSelectedSchemas=function(e){return function(){var t=n.context.userPermissions,a=n.props,i=a.updateMulti,o=a.environment,c=a.addNotification,u=[],d=n.selectedIds.reduce(function(a,n){return Object(j.b)({userPermissions:t,module:n,action:"update"})?r()({},a,s()({},"environments/"+o+"/schemas/"+n+"/enabled",e)):(u.push(n),a)},{});l()(d)&&i(d),u.length&&c({body:"notifications.schema_update_permissions_warning",type:"warning",autoClose:0})}},n.deleteSelectedSchemas=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.context.userPermissions,a=n.props,l=a.removeMulti,i=a.environment,s=a.addNotification,o=[],r=[];n.selectedIds.forEach(function(a){Object(j.b)({userPermissions:t,module:a,action:"delete"})?(r.push("environments/"+i+"/schemas/"+a),e&&r.push("environments/"+i+"/content/"+a)):o.push(a)}),r.length&&l("/",r,function(){n.selectedIds=[]}),o.length&&s({body:"notifications.schema_delete_permissions_warning",type:"warning",autoClose:0})},n.showTable=function(){if(!n.props.match.params.schema){var e=n.context.userPermissions,t=Object(x.get)(n.props.firebase,"environments."+n.props.environment+".schemas",[]),a=(t=Object(x.isArray)(t)?t:Object(x.toArray)(t)).filter(function(t){var a=t.id;return Object(j.b)({userPermissions:e,module:a,action:"view"})}),l=[],i=[];return Object(j.b)({userPermissions:e,type:"modules",module:"schemas",action:"create"})&&l.push({text:"Copy",icon:"MdContentCopy",onClick:function(e){var t=n.props.history;n.setState({copyFrom:{value:e}},function(){return t.push("/schemas/new")})}}),Object(j.b)({userPermissions:e,type:"modules",module:"schemas",action:"update"})&&(l.push({text:"Edit",icon:"MdCreate",url:"schemas",individualPermissionCheck:function(t){return Object(j.b)({userPermissions:e,module:t,action:"update"})}}),i.push({text:"Enable Selected Schemas",action:n.enableOrDisableSelectedSchemas(!0)},{text:"Disable Selected Schemas",action:n.enableOrDisableSelectedSchemas(!1)})),Object(j.b)({userPermissions:e,type:"modules",module:"schemas",action:"delete"})&&(l.push({text:"Delete",icon:"MdDelete",onClick:n.confirmDelete,individualPermissionCheck:function(t){return Object(j.b)({userPermissions:e,module:t,action:"delete"})}}),i.push({text:"Delete Selected Schemas",action:n.deleteSelectedSchemas},{text:"Delete Selected Schemas & Content",action:function(){return n.deleteSelectedSchemas(!0)}})),h.a.createElement(O.a,{collection:a,schema:n.props.tableSchema,actions:l,bulkActions:i,onCheckboxClick:n.onCheckboxClick,content:{}})}return null},i=a,f()(n,i)}return g()(t,e),t}(y.Component);w.contextTypes={userPermissions:k.a.object},w.propTypes={environment:k.a.array.isRequired,tableSchema:k.a.array,toggleModal:k.a.func.isRequired,removeMulti:k.a.func.isRequired,updateMulti:k.a.func.isRequired,removeItem:k.a.func.isRequired,addNotification:k.a.func.isRequired,firebase:k.a.object.isRequired,match:k.a.object.isRequired,history:k.a.object.isRequired},w.defaultProps={tableSchema:[{key:"title",title:"Schema",type:"text",show:!0},{key:"id",title:"Schema ID",type:"text",show:!0},{key:"type",title:"Type",type:"text",show:!0},{key:"enabled",title:"Enabled",type:"boolean",show:!0}]},t.a=w},1659:function(e,t,a){"use strict";(function(e,n){var l=a(95),i=a.n(l),s=a(96),o=a.n(s),r=a(31),c=a.n(r),u=a(29),d=a.n(u),m=a(38),p=a.n(m),f=a(25),b=a.n(f),g=a(30),y=a.n(g),h=a(72),v=a.n(h),k=a(26),x=a(0),O=a.n(x),E=a(60),j=a(1),w=a.n(j),C=a(48),F=a(2),S=a(15),D=a(789),V=a(169),T=a(39),M=a(13),_=a(1177),I=a.n(_),N=a(4),z=function(t){function a(e){d()(this,a);var t=b()(this,(a.__proto__||c()(a)).call(this,e));return t.setValue=function(e,a){var n=a.groupId,l=a.permission,i=Object(F.get)(e,"target.checked",!1);Object(F.defer)(function(){var e=Object(F.cloneDeep)(t.state.permissions);"object"!==o()(e["permissions/"+n+"/content/"+t.state.schemaId])&&(e["permissions/"+n+"/content/"+t.state.schemaId]={}),Object(F.set)(e["permissions/"+n+"/content/"+t.state.schemaId],l,i),t.setState({permissions:e})})},t.closeModal=function(){t.props.toggleModal({modalId:"contentModal",show:!1})},t.savePermissions=function(){if(i()(t.state.permissions).length){t.props.updateMulti(t.state.permissions,function(){t.props.addNotification({body:"notifications.firebase.user_permissions_groups_updated",type:"success",autoClose:5e3}),t.closeModal()},!0)}else t.props.addNotification({body:"notifications.forms.save_failed_no_changes",type:"warning",autoClose:5e3})},t.renderContentPermissionCheckbox=function(e){var a=e.row,n=e.schema;return O.a.createElement(M.b,{checkboxTitle:n.title,largeText:!1,inputProps:{id:"group_"+a.id+"_"+n.key+"_checkbox",name:"group_"+a.id+"_"+n.key+"_checkbox",value:n.key,defaultChecked:Object(F.get)(t.formData,"content."+a.id+"."+n.key),onChange:function(e){return t.setValue(e,{groupId:a.id,permission:n.key})}}})},t.state={schemaId:e.schemaId,schemaTitle:e.schemaTitle,permissions:{}},t.contentTableSchema=[{key:"title",title:"Permission Group",type:"text",show:!0},{key:"view",title:"View",type:t.renderContentPermissionCheckbox,show:!0},{key:"create",title:"Create",type:t.renderContentPermissionCheckbox,show:!0},{key:"update",title:"Update",type:t.renderContentPermissionCheckbox,show:!0},{key:"delete",title:"Delete",type:t.renderContentPermissionCheckbox,show:!0}],t}return y()(a,t),p()(a,[{key:"onPermissionRowCheckboxClick",value:function(t){return function(a,n){var l=a.target.checked;e("#"+t+' [name*="_'+n+'_"]').each(function(){var t=e(this).prop("checked");(!t&&l||t&&!l)&&e(this).click()})}}},{key:"renderContentPermissionBoxes",value:function(){var e=Object(F.map)(Object(F.get)(Object(F.cloneDeep)(this.props.firebase),"permissions",{}),function(e){return{id:e.id,title:e.name}});e.shift();return O.a.createElement(D.a,{lazyLoad:!1,id:"contentTable",boxShadow:!0,collection:e,schema:this.contentTableSchema,showColumnCheckbox:!0,showRowCheckbox:!0,onCheckboxClick:this.onPermissionRowCheckboxClick("contentTable"),content:{},media:{}})}},{key:"render",value:function(){var e=this.props,t=e.firebase,a=(e.intl,"Permissions - "+this.state.schemaTitle);return O.a.createElement("div",null,O.a.createElement(v.a,{title:a}),O.a.createElement(V.a,{title:a,sticky:!0},O.a.createElement(T.a,{themeType:"ghost",onClick:this.closeModal},"Cancel"),t&&O.a.createElement(T.a,{onClick:this.savePermissions},"Save")),O.a.createElement(S.Row,{className:"noGutter"},O.a.createElement(S.Col,{className:"noGutter",xs:12},O.a.createElement("div",{className:I.a.paddedHolder},this.renderContentPermissionBoxes()))))}}]),a}(x.Component);z.propTypes={firebase:w.a.object.isRequired,intl:w.a.object.isRequired,addNotification:w.a.func.isRequired,updateMulti:w.a.func.isRequired,toggleModal:w.a.func.isRequired,schemaId:w.a.string.isRequired,schemaTitle:w.a.string.isRequired};t.a=Object(C.d)(Object(k.b)(function(e){return{firebase:e.currentProject.firebase}},function(e){return{toggleModal:function(t){var a=t.modalId,n=t.show,l=t.content,i=t.size;e(N.a.toggleModal({modalId:a,show:n,content:l,size:i}))},updateMulti:function(t,a,n){e(N.a.updateMulti(t,a,n))},addNotification:function(t){e(N.a.addNotification(t))}}})(Object(E.hot)(n)(z)))}).call(this,a(231),a(94)(e))},1660:function(e,t,a){"use strict";(function(e){var n=a(31),l=a.n(n),i=a(29),s=a.n(i),o=a(38),r=a.n(o),c=a(25),u=a.n(c),d=a(30),m=a.n(d),p=a(26),f=a(0),b=a.n(f),g=a(60),y=a(1),h=a.n(y),v=a(48),k=a(1763),x=a(2),O=a(173),E=a(15),j=a(39),w=a(1175),C=a(4),F=function(e){function t(e){s()(this,t);var a=u()(this,(t.__proto__||l()(t)).call(this,e));return a.state={copyFrom:null},a}return m()(t,e),r()(t,[{key:"render",value:function(){var e=this,t=this.state.copyFrom,a=this.props,n=a.firebase,l=a.environment,i=a.updateParentState,s=a.toggleModal,o=Object(x.get)(n,"environments."+l+".schemas",{}),r=Object(x.map)(o,function(e){return{value:e.id,label:Object(x.get)(e,"title","").toUpperCase()}});return t||this.setState({copyFrom:r[0]}),b.a.createElement(w.a,null,b.a.createElement(w.l,null,b.a.createElement(k.a,{to:"/schemas/new"},b.a.createElement(j.a,{onClick:function(){return s({modalId:"contentModal",show:!1})},noMargin:!0},"New Blank Template"))),b.a.createElement(w.l,null,"or copy existing template"),b.a.createElement(w.l,{className:"text-left"},b.a.createElement(E.Row,{className:"noGutter"},b.a.createElement(E.Col,{md:8},b.a.createElement(O.b,{clearable:!1,name:"copyTemplateSelect",id:"copyTemplateSelect",options:r,onChange:function(t){e.setState({copyFrom:t}),i({copyFrom:t})},value:this.state.copyFrom||r[0]})),b.a.createElement(E.Col,{md:2},b.a.createElement(k.a,{to:"/schemas/new"},b.a.createElement(j.a,{onClick:function(){return s({modalId:"contentModal",show:!1})},disabled:!this.state.copyFrom},"Copy"))))))}}]),t}(f.Component);F.propTypes={firebase:h.a.object.isRequired,environment:h.a.string.isRequired,updateParentState:h.a.func.isRequired,toggleModal:h.a.func.isRequired,intl:h.a.object.isRequired};t.a=Object(v.d)(Object(p.b)(function(e){var t=e.currentProject;return{firebase:t.firebase,environment:t.environment}},function(e){return{toggleModal:function(t){var a=t.modalId,n=t.show,l=t.content,i=t.size;e(C.a.toggleModal({modalId:a,show:n,content:l,size:i}))}}})(Object(g.hot)(e)(F)))}).call(this,a(94)(e))},767:function(e,t,a){"use strict";a.r(t),function(e){var n=a(14),l=a.n(n),i=a(20),s=a.n(i),o=a(95),r=a.n(o),c=a(34),u=a.n(c),d=a(1607),m=a.n(d),p=a(16),f=a.n(p),b=a(88),g=a.n(b),y=a(31),h=a.n(y),v=a(29),k=a.n(v),x=a(38),O=a.n(x),E=a(25),j=a.n(E),w=a(30),C=a.n(w),F=a(72),S=a.n(F),D=a(0),V=a.n(D),T=a(26),M=a(60),_=a(1),I=a.n(_),N=a(2),z=a(15),P=a(1614),q=a(42),R=a.n(q),A=a(1618),G=a(352),L=a.n(G),H=a(1633),B=a.n(H),U=a(1634),K=a.n(U),W=a(39),Y=a(169),J=a(167),Q=a(1175),X=a(1635),Z=a(1176),$=a(4),ee=a(10),te=a(787),ae=a(1177),ne=a.n(ae),le=a(1658),ie=a(1659),se=a(1660),oe=a(56),re=Object(Z.a)(),ce=function(e){function t(e){var a=this;k()(this,t);var n=j()(this,(t.__proto__||h()(t)).call(this,e));return n.validateFieldData=function(e){var t=Object(N.cloneDeep)(n.state),a=t.isEditingSubFields?"repeaterFieldsErrors":"formFieldsErrors";Object(N.forEach)(e,function(n,l){var i=Object(N.get)(t,"formFieldsConstraints."+l);if(i){var s=R.a.single(n,i);Object(N.set)(t,a+"."+e.id+"."+l,s)}}),n.setState(t)},n.onDrop=function(e){var t=e.field.split(", "),a=t[0],l=t[1]||"field",i=Object(N.cloneDeep)(n.state);if(Object(N.isArray)(Object(N.get)(i,"formData.fields"))||Object(N.set)(i,"formData.fields",[]),"field"===l){var s={type:a,id:Date.now()};if(Object(N.find)(Object(N.flatten)(X.a),{type:a}).fields({props:Object(N.cloneDeep)(n.props),state:i}).forEach(function(e){var t=e.key,a=e.defaultValue;return Object(N.set)(s,t,Object(N.isFunction)(a)?a():a)}),Object(N.includes)(["radio","select","repeater","fieldset"],a)&&Object(N.set)(s,"options",[]),i.isEditingSubFields){var o=n.getFieldData({state:i,id:i.editing.id});!Object(N.isEmpty)(o.options)&&Object(N.isArray)(o.options)||Object(N.set)(o,"options",[]),o.options.push(s)}else i.formData.fields.push(s);n.setState(i,function(){return n.validateFieldData(s)})}else{var r=Object(N.find)(Object(N.flatten)(X.c),{type:a});if(r.groupType){var c={type:r.groupType,id:Date.now()};r.fields({props:Object(N.cloneDeep)(n.props),state:i}).forEach(function(e){var t=e.key,a=e.defaultValue;return Object(N.set)(c,t,Object(N.isFunction)(a)?a():a)}),Object(N.includes)(["radio","select","repeater","fieldset"],r.groupType)&&Object(N.set)(c,"options",[]),i.formData.fields.push(c)}r.formFields.forEach(function(e,t){if(e.id=Date.now()+t,i.isEditingSubFields){var a=n.getFieldData({state:i,id:i.editing.id});!Object(N.isEmpty)(a.options)&&Object(N.isArray)(a.options)||Object(N.set)(a,"options",[]),a.options.push(e)}else if(Object(N.includes)(["fieldset","repeater"],r.groupType)){var l=Object(N.get)(i.formData.fields,"["+(i.formData.fields.length-1)+"].options",[]);Object(N.isArray)(l)||Object(N.set)(i.formData.fields,"["+(i.formData.fields.length-1)+"].options",[]),i.formData.fields[i.formData.fields.length-1].options.push(e)}else i.formData.fields.push(e)}),n.setState(i)}},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var l=Object(N.cloneDeep)(n.state);if(n.state.isEditingSubFields){var i=n.getFieldData({state:l,id:l.editing.id});i.options=Object(A.arrayMove)(i.options,t,a)}else l.formData.fields=Object(A.arrayMove)(l.formData.fields,t,a);n.setState(l)}},n.getComponent=function(e,t){var a=t.field,l=t.value,i=t.content,s=t.media,o=t.formFieldKey,r=t.fieldId,c=t.isFormField,u=t.isPreviewField,d=t.errors;if(te.a[e]){var p=te.a[e].renderInEditor,b=void 0,y=void 0;if(b=a.setValue?function(e){return a.setValue(e)}:u?function(){return g.a.resolve()}:function(e){return n.setValue(r||o,e,c).then(function(e){var t=e.error,a=e.state;c&&!Object(N.get)(n.state,"editingSubFields.id")?Object(N.set)(a.formFieldsErrors,r+"."+o,t):c&&Object(N.get)(n.state,"editingSubFields.id")?Object(N.set)(a.repeaterFieldsErrors,r+"."+o,t):Object(N.set)(a.schemaFieldsErrors,o,t),n.setState(a)}).catch(ee.d)},n.state.isEditingSubFields&&Object(N.get)(n.state,"editingSubFields.id")&&"show"===o&&c)return null;if(Object(N.isFunction)(a.overwriteOnceSet))y=f()({},a,{overwriteOnceSet:a.overwriteOnceSet(n.props.match.params.schema)});else if("constraints"===o&&Object(N.isArray)(l)){var h=l.map(function(e){var t=Object(N.cloneDeep)(a.options),n=m()(t,2),l=n[0],i=n[1],s=e.rule;return s&&Object(N.set)(i||{},"options",Object(N.get)(re.find(function(e){return e.key===s})||{},"fields",[])),[l,i]});y=f()({},a,{options:h})}else y=a;return V.a.createElement(p,{field:y,value:l,formFieldKey:o,setValue:b,content:i,media:s,formData:n.state.formData,errors:d})}return V.a.createElement("pre",null,'No "',e,'" data field implemented')},n.setValue=function(e,t,a){var l=t.name,i=t.value;return new g.a(function(t,s){if(n.state.mode)return t();if(!l)return s(new Error('[FLAMELINK]: "name" property needs to be passed back to the "setValue" method. What you passed is: name = \''+l+"' value = '"+i+"'"));var o=Object(N.cloneDeep)(n.state),r=a?n.getFieldData({state:o,id:e,repeater:Object(N.get)(o,"editingSubFields.id")}):o.formData;return Object(N.set)(r,l,Object(N.isUndefined)(i)?"":i),t(a?{error:R.a.single(i,n.state.formFieldsConstraints[l]),state:o}:{error:R.a.single(i,n.state.schemaFieldsConstraints[l]),state:o})})},n.setEditingState=function(e){var t,a=n.state.isEditingSubFields?"editingSubFields":"editing";n.setState((t={},u()(t,a,e),u()(t,"toggle","EditFormFields"),t))},n.getFieldData=function(e){var t=e.state,a=void 0===t?Object(N.cloneDeep)(n.state):t,l=e.id,i=e.repeater;if(l){if(void 0!==i&&i){var s=Object(N.find)(Object(N.get)(a,"formData.fields",[]),{id:a.editing.id})||Object(N.find)(Object(N.get)(a,"formData.fields",[]),{key:a.editing.key});return Object(N.find)(Object(N.get)(s,"options",[]),{id:l})||Object(N.find)(Object(N.get)(s,"options",[]),{key:l})}return Object(N.find)(Object(N.get)(a,"formData.fields",[]),{id:l})||Object(N.find)(Object(N.get)(a,"formData.fields",[]),{key:l})}return{}},n.SortableItem=Object(A.SortableElement)(function(e){var t=e.field;return n.formField({formField:t})}),n.SortableList=Object(A.SortableContainer)(function(e){var t=e.fields;return V.a.createElement(Q.k,{hasHeader:n.state.isEditingSubFields},V.a.createElement(z.Row,null,t&&t.map(function(e,t){return V.a.createElement(a.SortableItem,{key:"item-"+e.key,index:t,field:e})})))}),n.removeField=function(e){var t=e.id,a=e.key,l=Object(N.cloneDeep)(n.state);if(n.state.isEditingSubFields){var i=n.getFieldData({state:l,id:l.editing.id});t?Object(N.set)(i,"options",Object(N.reject)(i.options,{id:t})):Object(N.set)(i,"options",Object(N.reject)(i.options,{key:a})),l.editingSubFields=null}else l.formData.fields=t?Object(N.reject)(l.formData.fields,{id:t}):Object(N.reject)(l.formData.fields,{key:a}),l.editing=null;l.toggle="AddFormFields",n.setState(l)},n.enableSubEditor=function(){Object(N.defer)(function(){n.setState({isEditingSubFields:!0,toggle:"AddFormFields"})})},n.showSchemaSettingsFields=function(){return V.a.createElement(Q.e,null,V.a.createElement(Q.c,null,V.a.createElement(z.Row,{className:"noGutter"},Object(X.d)(n.state).map(function(e){return V.a.createElement(z.Col,{key:"schemaFields_"+e.key,xs:Object(N.get)(e.size,"xs",12),sm:Object(N.get)(e.size,"sm",12),md:Object(N.get)(e.size,"md",12),lg:Object(N.get)(e.size,"lg",12)},n.getComponent(e.type,{field:e,value:Object(N.get)(n.state,"formData["+e.key+"]",Object(N.get)(e,"defaultValue",null)),formFieldKey:e.key,content:{},fieldId:e.id,errors:Object(N.get)(n.state,"schemaFieldsErrors["+e.key+"]",null)}))}))))},n.formFieldDetails=function(e){if(e){var t=Object(N.find)(Object(N.flatten)(X.a),{type:""+e.type}),a=t.icon,l=t.name,i=t.fields;return V.a.createElement(Q.e,null,V.a.createElement(Q.d,null,a()," ",l,V.a.createElement(W.a,{circular:!0,iconOnly:!0,onClick:function(){return n.removeField(e)}},V.a.createElement(L.a,null))),V.a.createElement(Q.c,null,V.a.createElement(z.Row,null,i({props:Object(N.cloneDeep)(n.props),state:Object(N.cloneDeep)(n.state),editing:Object(N.cloneDeep)(Object(N.get)(n.state,n.state.isEditingSubFields?"editingSubFields":"editing",{}))}).map(function(t,a){var l=n.getFieldData({state:n.state,id:e.id||e.key,repeater:n.state.isEditingSubFields&&n.state.editingSubFields.id}),i=Object(N.get)(l,t.key)||"";return V.a.createElement(z.Col,{key:(n.state.isEditingSubFields&&"repeater")+"_fieldDetails_"+(e.id||e.key)+"_"+a,xs:Object(N.get)(t.size,"xs",12),sm:Object(N.get)(t.size,"sm",12),md:Object(N.get)(t.size,"md",12),lg:Object(N.get)(t.size,"lg",12)},n.getComponent(t.type,{field:t,value:i,formFieldKey:t.key,content:Object(N.get)(n.props.firebase,"environments."+n.props.environment+".content",{}),fieldId:e.id||e.key,errors:Object(N.get)(n.state.editingSubFields,"id")?Object(N.get)(n.state.repeaterFieldsErrors,e.id+"."+t.key):Object(N.get)(n.state.formFieldsErrors,e.id+"."+t.key),isFormField:!0}))}),["repeater","fieldset"].includes(e.type)&&V.a.createElement(z.Col,{xs:12},V.a.createElement(W.a,{onClick:n.enableSubEditor},"Edit Fields")))))}return null},n.isFormFieldValid=function(e,t){var a=Object(N.get)(n.state,"isEditingSubFields")?"repeaterFieldsErrors":"formFieldsErrors",l=!Object(N.without)(Object(N.values)(Object(N.get)(n.state,a+"."+e)),void 0).length,i=!0;if(!Object(N.get)(n.state,"isEditingSubFields")){var s=e?Object(N.find)(n.state.formData.fields,{id:e}):Object(N.find)(n.state.formData.fields,{key:t});if(s&&("repeater"===s.type||"fieldset"===s.type)){var o=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.id})}(s.options);i=!Object(N.flatten)(o.map(function(e){return Object(N.without)(Object(N.values)(Object(N.get)(n.state,"repeaterFieldsErrors."+e)),void 0)})).length}}return{isValid:l&&i,validationDescription:!i&&"Sub-fields validation failed"}},n.formField=function(e){var t=e.formField;if(t){var a=Object(N.get)(n.state.editingSubFields,"id")?"editingSubFields":"editing",l=n.isFormFieldValid(t.id,t.key);return V.a.createElement(z.Col,{onClick:function(){return n.setEditingState(t)},xs:Object(N.get)(t.gridColumns,"xs",12),sm:Object(N.get)(t.gridColumns,"sm",12),md:Object(N.get)(t.gridColumns,"md",12),lg:Object(N.get)(t.gridColumns,"lg",12)},V.a.createElement(Q.j,{active:t.id&&Object(N.get)(n.state,a+".id")===t.id||t.key&&Object(N.get)(n.state,a+".key")===t.key},V.a.createElement(Q.h,{valid:l.isValid},l.validationDescription&&l.validationDescription+" | ",("repeater"===t.type||"fieldset"===t.type)&&V.a.createElement("span",{role:"presentation",onClick:n.enableSubEditor},"Edit Fields"),l.isValid?V.a.createElement(B.a,null):V.a.createElement(K.a,null)),n.getComponent(t.type,{field:t,value:Object(N.get)(t,"defaultValue",null),formFieldKey:t.key,content:Object(N.get)(n.props.firebase,"environments."+n.props.environment+".content",{}),media:Object(N.get)(n.props.firebase,"media",{}),fieldId:t.id,isPreviewField:!0})))}return null},n.showPermissionsEditor=function(){var e=V.a.createElement(ie.a,{schemaId:n.state.formData.id,schemaTitle:n.state.formData.title});n.props.toggleModal({modalId:"contentModal",show:!0,content:e,size:"large"})},n.showPermissionsDialog=function(){if(r()(Object(N.get)(n.props.firebase,"permissions",{})).length>1&&Object(oe.b)({userPermissions:n.context.userPermissions,type:"modules",module:"permissions",action:"update"})){var e=V.a.createElement(J.a,{title:"Update Permission Groups",type:"warning",buttons:[{themeType:"ghost",text:"Close",onClick:function(){return n.props.toggleModal({modalId:"contentModal",show:!1})}},{themeType:"info",text:"Edit Permissions",onClick:n.showPermissionsEditor}]},V.a.createElement("p",null,"Your new schema is not enabled for any of your additional permission groups.",V.a.createElement("br",null),'Only "Super Admin" users will have access to the new schema.'));n.props.toggleModal({modalId:"contentModal",show:!0,content:e,size:"small"})}},n.saveSchema=s()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({saving:!0}),t=R()(n.state.formData,n.state.schemaFieldsConstraints),!(n.state.formData.id&&n.state.formData.fields.length>0)){e.next=22;break}if(t){e.next=17;break}return e.prev=4,e.next=7,n.props.setItem("environments/"+n.props.environment+"/schemas",n.state.formData);case 7:n.setState({saving:!1}),"new"===n.props.match.params.schema&&(n.props.updateKey("permissions/1","content",n.state.formData.id,{view:!0,create:!0,update:!0,delete:!0},null,!0),n.showPermissionsDialog()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),n.setState({saving:!1}),Object(ee.d)(e.t0);case 15:e.next=20;break;case 17:n.setState({saving:!1}),n.setState({schemaFieldsErrors:t}),n.props.addNotification({body:'Unable to save, please ensure that your "Schema Details" are valid',type:"error",autoClose:5e3});case 20:e.next=24;break;case 22:n.setState({saving:!1}),n.props.addNotification({body:"Unable to save, please ensure a valid Schema ID <br/> and at least 1 field is supplied",type:"error",autoClose:5e3});case 24:case"end":return e.stop()}},e,a,[[4,11]])})),n.subFieldViewBackAction=function(){n.setState({isEditingSubFields:!1,editingSubFields:null,toggle:"EditFormFields"},function(){return n.validateFieldData(n.state.editing)})},n.handleNewSchemaDialog=function(){var e=n.props,t=e.environment,a=e.firebase,l=e.history,i=Object(N.get)(a,"environments."+t+".schemas",{});if(r()(i).length){var s=V.a.createElement(J.a,{title:"New Schema",type:"info",buttons:[{themeType:"ghost",text:"Cancel",onClick:function(){return n.props.toggleModal({modalId:"contentModal",show:!1})}}]},V.a.createElement(se.a,{updateParentState:function(e){return n.setState(e)}}));n.props.toggleModal({modalId:"contentModal",show:!0,content:s,size:"small"})}else l.push("/schemas/new")},n.selectedIds=[],n.state={saving:!1,copyFrom:null,formData:{group:"Group Name",icon:"",id:"schemaDemo",title:"Schema Demo",type:"collection",description:"",enabled:!0,sortable:!0,fields:[]},schemaFieldsConstraints:X.e,schemaFieldsErrors:{},formFieldsConstraints:X.b,formFieldsErrors:{},repeaterFieldsConstraints:[],repeaterFieldsErrors:{},editing:null,editingSubFields:null,toggle:"SchemaDetails",isEditingSubFields:!1},n.defaultState=Object(N.cloneDeep)(n.state),n}return C()(t,e),O()(t,[{key:"componentWillMount",value:function(){var e=Object(N.get)(this.props,"match.params.schema");e&&"new"!==e&&this.props.firebase&&this.setState({formData:Object(N.cloneDeep)(Object(N.get)(this.props.firebase,"environments."+this.props.environment+".schemas."+e,{})),toggle:"SchemaDetails",isEditingSubFields:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=Object(N.get)(e,"match.params.schema"),n=Object(N.get)(this.props,"match.params.schema");if(a&&"new"!==a&&a!==n&&this.setState(function(){return{formData:Object(N.get)(e.firebase,"environments."+t.props.environment+".schemas."+a,{}),toggle:"SchemaDetails",editing:null,editingSubFields:null,isEditingSubFields:!1,schemaFieldsErrors:{},formFieldsErrors:{},repeaterFieldsErrors:{}}}),"new"!==n&&"new"===a){var l=Object(N.cloneDeep)(this.defaultState),i=this.props,s=i.firebase,o=i.environment;if(Object(N.get)(this.state.copyFrom,"value")){var r=Object(N.get)(s,"environments."+o+".schemas."+this.state.copyFrom.value);delete r.__meta__,r.title=r.title+" Copy",r.id=r.id+"_copy",l.formData=r}this.setState(l)}}},{key:"droppableFormFields",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return X.a[t].map(function(t){return e.state.isEditingSubFields&&Object(N.includes)(["repeater","fieldset"],t.type)?null:V.a.createElement(P.Draggable,{key:"droppable_form_field_"+t.type,onDoubleClick:function(){return e.onDrop({field:t.type+", field"})},type:"field",data:t.type+", field"},V.a.createElement("li",null,t.icon()," ",t.name))})}},{key:"droppableGroupFields",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return X.c[t].map(function(t){return V.a.createElement(P.Draggable,{key:"droppable_form_field_"+t.type,onDoubleClick:function(){return e.onDrop({field:t.type+", groupField"})},type:"field",data:t.type+", groupField"},V.a.createElement("li",null,t.icon()," ",t.name))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.firebase,n=t.match,l=t.environment,i=this.context.userPermissions,s=void 0,o=void 0;s=a?"Schemas":"Loading...",a&&n.params.schema&&(o="/schemas",s="Schemas / "+this.state.formData.title);var r=Object(oe.b)({userPermissions:i,type:"modules",module:"schemas",action:"create"}),c=Object(oe.b)({userPermissions:i,type:"modules",module:"schemas",action:"update"})&&Object(oe.b)({userPermissions:i,module:this.props.match.params.schema,action:"update"}),u="new"===this.props.match.params.schema;return V.a.createElement("div",null,V.a.createElement(S.a,{title:s}),V.a.createElement(Y.a,{title:s,backUrl:o,sticky:Boolean(n.params.schema)},a&&!n.params.schema&&Object(N.keys)(Object(N.get)(a,"environments."+l+".schemas",{})).length>0&&V.a.createElement("input",{onChange:ee.c,placeholder:"Filter",type:"text",className:"filterInput"}),r&&a&&!n.params.schema&&V.a.createElement(W.a,{onClick:this.handleNewSchemaDialog},"New Schema"),a&&n.params.schema&&(u&&r||c)&&V.a.createElement(W.a,{disabled:this.state.saving,onClick:this.saveSchema},this.state.saving?"Saving...":"Save")),this.showTable(),n.params.schema&&V.a.createElement("div",null,V.a.createElement(z.Row,{className:"noGutter"},V.a.createElement(z.Col,{className:"noGutter",style:{background:"AddFormFields"===this.state.toggle?"rgba(243, 112, 70, 1)":"#fff"},xs:12,sm:4},V.a.createElement(z.Row,{className:"noGutter"},V.a.createElement(z.Col,{className:"noGutter",xs:12,sm:this.state.editing?4:6,onClick:function(){return e.setState({toggle:"SchemaDetails"})}},V.a.createElement(Q.m,{active:"SchemaDetails"===this.state.toggle},"Schema Details")),V.a.createElement(z.Col,{className:"noGutter",xs:12,sm:this.state.editing?4:6,onClick:function(){return e.setState({toggle:"AddFormFields"})}},V.a.createElement(Q.m,{active:"AddFormFields"===this.state.toggle},"Add Fields")),this.state.editing&&V.a.createElement(z.Col,{className:"noGutter",xs:12,sm:4,onClick:function(){return e.state.editing&&e.setState({toggle:"EditFormFields"})}},V.a.createElement(Q.m,{active:"EditFormFields"===this.state.toggle},"Edit Fields"))),"SchemaDetails"===this.state.toggle&&V.a.createElement(z.Col,{className:"noGutter",xs:12},this.showSchemaSettingsFields()),"AddFormFields"===this.state.toggle&&V.a.createElement(Q.b,null,V.a.createElement(z.Row,{className:"noGutter"},V.a.createElement(z.Col,{className:"noGutter",xs:12},V.a.createElement(Q.f,null,"Fields"))),V.a.createElement(z.Row,{className:"noGutter"},V.a.createElement(z.Col,{className:"noGutter",xs:12,lg:6},V.a.createElement(Q.g,null,this.droppableFormFields(0))),V.a.createElement(z.Col,{className:"noGutter",xs:12,lg:6},V.a.createElement(Q.g,null,this.droppableFormFields(1)))),V.a.createElement(z.Row,{className:"noGutter"},V.a.createElement(z.Col,{className:"noGutter",xs:12},V.a.createElement(Q.f,null,"Field Templates"))),V.a.createElement(z.Row,{className:"noGutter"},V.a.createElement(z.Col,{className:"noGutter",xs:12,lg:6},V.a.createElement(Q.g,null,this.droppableGroupFields(0))),V.a.createElement(z.Col,{className:"noGutter",xs:12,lg:6},V.a.createElement(Q.g,null,this.droppableGroupFields(1))))),"EditFormFields"===this.state.toggle&&V.a.createElement(z.Col,{className:"noGutter",xs:12,sm:12},this.formFieldDetails(this.state.isEditingSubFields?this.state.editingSubFields:this.state.editing))),V.a.createElement(z.Col,{className:"noGutter",xs:12,sm:8},V.a.createElement(P.Droppable,{types:["field"],onDrop:this.onDrop},V.a.createElement(Q.i,null,this.state.isEditingSubFields&&V.a.createElement(Y.a,{isSecondary:!0,backAction:this.subFieldViewBackAction,title:"Edit Field / "+this.state.editing.title}),V.a.createElement(this.SortableList,{useDragHandle:!1,axis:"xy",lockToContainerEdges:!0,distance:10,pressThreshold:5,fields:this.state.isEditingSubFields?Object(N.get)(Object(N.find)(Object(N.get)(this.state.formData,"fields",[]),{id:this.state.editing.id}),"options",[]):this.state.formData.fields,onSortEnd:this.onSortEnd,helperClass:ne.a.helperClass})))))))}}]),t}(le.a);ce.contextTypes={userPermissions:I.a.object},ce.propTypes={loading:I.a.bool,environment:I.a.string.isRequired,locale:I.a.string.isRequired,setItem:I.a.func.isRequired,addNotification:I.a.func.isRequired,firebase:I.a.object.isRequired,match:I.a.object.isRequired};t.default=Object(T.b)(function(e){var t=e.app,a=e.currentProject;return{loading:t.loading,firebase:a.firebase,environment:a.environment,locale:a.locale}},function(e){return{addNotification:function(t){e($.a.addNotification(t))},setItem:function(t,a){return e($.a.setItem(t,a))},updateKey:function(t,a,n,l,i,s){e($.a.updateKey(t,a,n,l,i,s))},removeItem:function(t){e($.a.removeItem(t))},removeMulti:function(t,a,n,l){e($.a.removeMulti(t,a,n,l))},updateMulti:function(t,a){e($.a.updateMulti(t,a))},toggleModal:function(t){var a=t.modalId,n=t.show,l=t.content,i=t.size;e($.a.toggleModal({modalId:a,show:n,content:l,size:i}))},setModalContent:function(t){var a=t.modalId,n=t.content;e($.a.setModalContent({modalId:a,content:n}))}}})(Object(M.hot)(e)(ce))}.call(this,a(94)(e))},789:function(e,t,a){"use strict";(function(e){var n=a(0),l=a.n(n),i=a(1),s=a.n(i),o=a(1763),r=a(2),c=a(785),u=a.n(c),d=a(47),m=a(39),p=a(13),f=a(800),b=a.n(f),g=a(787),y=function(t){var a=t.bulkActions&&t.bulkActions.length,n=t.showRowCheckbox,i=t.showColumnCheckbox,s=t.dataType,c=t.onCheckboxClick,f=t.maxHeight,y=t.lazyLoad,h=void 0,v=!Object(r.isEmpty)(t.schema)&&Object(r.isArray)(t.schema)?t.schema.map(function(e,t){return e.show&&l.a.createElement("th",{key:"col_header_"+e.key},i&&t>0&&l.a.createElement(p.d,{noMargin:!0},l.a.createElement(p.b,{largeText:!1,noDescription:!0,checkboxTitle:e.title,inputProps:{id:e.key,name:"bulk_toggle",onChange:function(t){return c(t,e.key)}}})),(!i||0===t)&&e.title)}):[];v.push(l.a.createElement("th",{className:b.a.actionsHeader,key:"col_header_actions"},Object(r.result)(t,"actionsHeader"))),(a||n)&&v.splice(0,0,l.a.createElement("th",{className:b.a.checkboxColumn,key:"col_header_checkbox"},l.a.createElement("label",{htmlFor:"toggleAll"},l.a.createElement(p.b,{noDescription:!0,inputProps:{id:"toggleAll",onClick:function(a){var n=a.target.checked;e("#"+t.id+' [name="bulk_toggle"]').each(function(){var t=e(this).prop("checked");(!t&&n||t&&!n)&&e(this).click()})}}}))));var k=t.collection.map(function(e,i){var c=e,f=c.id,h=c.entryType,v=t.schema.map(function(a){var n=a.show,s=a.key,o=a.type;return n?l.a.createElement("td",{key:f+"_"+s},function(e,t){var a=t.row,n=t.rowIndex,i=t.value,s=t.schema,o=t.content,c=t.media;if(Object(r.isFunction)(e))return e({row:a,rowIndex:n,value:i,schema:s,content:o,media:c});if(g.a[e]){var u=g.a[e].renderInTable;return l.a.createElement(u,{row:a,rowIndex:n,value:i,schema:s,content:o,media:c})}return l.a.createElement("pre",null,'No "',e,'" data field implemented')}(o,{row:e,rowIndex:i,value:e[s],schema:a,content:t.content,media:t.media})):null}),k=t.actions&&t.actions.length?t.actions.map(function(e){var t=e.text,a=e.url,n=e.onClick,u=e.icon,p=e.toggleProp,g=e.disabled,y=void 0===g?function(){return!1}:g,v=e.individualPermissionCheck,k=i+"_"+t+"_action_btn";if((void 0===v?function(){return!0}:v)("new"===f?h:f)){if(a)return l.a.createElement(o.a,{key:k,to:a+"/"+("single"!==s?""+f:h+"/"+f)},l.a.createElement(m.a,{iconOnly:!0,circular:!0,className:b.a.actionIcon,title:Object(r.isFunction)(t)?t(c[p]):t,disabled:y(f)},l.a.createElement(d.a,{icon:u})));if(n)return l.a.createElement(m.a,{iconOnly:!0,circular:!0,key:k,onClick:function(){return n(f)},title:Object(r.isFunction)(t)?t(c[p]):t,className:b.a.actionIcon,disabled:y(f)},l.a.createElement(d.a,{icon:Object(r.isFunction)(u)?u(c[p]):u}))}return null}):null;if(v.push(l.a.createElement("td",{className:b.a.actions,key:f+"_edit_action"},k)),a||n){var x="checkbox_"+f+"_td";v.splice(0,0,l.a.createElement("td",{className:b.a.checkboxColumn,key:x},l.a.createElement("label",{htmlFor:x},l.a.createElement(p.b,{noDescription:!0,inputProps:{id:x,name:"bulk_toggle",onChange:function(e){return t.onCheckboxClick(e,f)}}}))))}return y?l.a.createElement(u.a,{key:"row_"+f,height:56,offset:100,overflow:!0,placeholder:l.a.createElement("tr",{style:{height:56},className:"lazyload-placeholder"})},l.a.createElement("tr",null,v)):l.a.createElement("tr",{key:"row_"+f},v)});return l.a.createElement("div",{className:t.boxShadow?b.a.boxShadow:null},l.a.createElement("table",{id:t.id,className:b.a.tableFixed},l.a.createElement("thead",null,l.a.createElement("tr",null,v)),l.a.createElement("tbody",{style:f&&{maxHeight:f}},k.length&&k||l.a.createElement("tr",null,l.a.createElement("td",{style:{padding:"25px 10px"},colSpan:v.length},"No entries found"))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,a?l.a.createElement("th",{className:b.a.actions},l.a.createElement("span",{className:"selectWrap"},l.a.createElement("select",{className:"selectWithArrow",ref:function(e){h=e}},l.a.createElement("option",{value:""},"Bulk Action"),t.bulkActions?t.bulkActions.map(function(e,t){var a=e.text;return l.a.createElement("option",{key:"bulk_options_"+Object(r.kebabCase)(a),value:t},a)}):null),l.a.createElement("span",{className:"selectArrow"})),l.a.createElement(m.a,{onClick:function(){var e=h.options[h.selectedIndex].value;""!==e&&t.bulkActions[e].action()}},"Confirm")):null))))};y.propTypes={collection:s.a.array,content:s.a.object,media:s.a.object,schema:s.a.array,actions:s.a.array,actionsHeader:s.a.oneOfType([s.a.func,s.a.string,s.a.node]),onCheckboxClick:s.a.func,showColumnCheckbox:s.a.bool,showRowCheckbox:s.a.bool,lazyLoad:s.a.bool,boxShadow:s.a.bool,bulkActions:s.a.oneOfType([s.a.array,s.a.bool]),dataType:s.a.string,id:s.a.string,maxHeight:s.a.string},y.defaultProps={onCheckboxClick:function(){},lazyLoad:!1,showColumnCheckbox:!1,showRowCheckbox:!1,boxShadow:!1,bulkActions:!1,dataType:"collection",id:"displayTable",collection:[],content:{},media:{},schema:[],actions:[],actionsHeader:null,maxHeight:null},t.a=y}).call(this,a(231))},800:function(e,t,a){e.exports={boxShadow:"components-ui-DisplayTable-styles__boxShadow--QMzjMBeD",actions:"components-ui-DisplayTable-styles__actions--23KyB5d7",actionIcon:"components-ui-DisplayTable-styles__actionIcon--OdSxqBlN",tableFixed:"components-ui-DisplayTable-styles__tableFixed--1Lkc19W9",actionsHeader:"components-ui-DisplayTable-styles__actionsHeader--TGIh7fGh",checkboxColumn:"components-ui-DisplayTable-styles__checkboxColumn--osBMdnP5",imageHolder:"components-ui-DisplayTable-styles__imageHolder--3-f8sVV0"}}}]);